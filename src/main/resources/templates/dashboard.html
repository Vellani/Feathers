<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>Feathers Logbook</title>
  <th:block th:replace="fragments/common :: main-css"></th:block>
  <th:block th:replace="fragments/common :: lg-sb"></th:block>

  <script crossorigin="anonymous"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

  <th:block th:replace="fragments/map-view :: map-initialize-scripts"></th:block>
</head>

<body>
<!-- HEADER -->
<header th:replace="fragments/common :: header"></header>
<main>
      <div class="logbook-container w-100 h-100vh d-inline-block overflow-auto">
        <div class="px-4 py-0" id="icon-grid">
          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3 g-4 py-4">
            
            <!-- this is the first view for statistics -->
            <div class="col">
              <div class="card card-cover text-white bg-dark rounded-5 shadow-lg">
                <div class="d-flex align-items-center m-3">
                  <svg class="bi text-muted me-3" width="1.75em" height="1.75em">
                    <use xlink:href="..\static\images\svg\svgmaster.svg#toggles2" />
                  </svg>
                  <div>
                    <p class="fw-bold mb-0">Total Flights: 630</p>
                    <p class="fw-bold mb-0">Total Flight Time: 4000:34</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- This is the View containing the aircraft -->
            <div class="col">
              <div class="card card-cover text-white bg-dark rounded-5 shadow-lg">
                <div class="d-flex align-items-center m-3">
                  <div class="list-group w-100 overflow-auto" style="max-height: 500px">
                    <!-- This is the add new aircraft card -->
                    <div class="list-group-item list-group-item-action d-flex justify-content-end" aria-current="true">
                      <button href="" type="button" class="btn btn-warning">Add New Aircraft</button>
                    </div>

                    <!-- This is a Card for each Aircraft -->
                    <div  th:each="o : ${aircraft}" class="list-group-item list-group-item-action" aria-current="true">
                      <div class="d-flex justify-content-between">
                        <div class="row w-100 d-flex align-items-center" style="margin: 0">
                          <div style="width: auto"> <!-- TODO image-->
                            <img src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.publicdomainpictures.net%2Fpictures%2F180000%2Fvelka%2Fairplane-1465641579esW.jpg&f=1&nofb=1" alt="twbs" width="45" height="45" class="rounded-circle flex-shrink-0" />
                          </div>
                          <div class="col-4 flex-fill">
                            <div class="d-flex gap-2 w-100 justify-content-between">
                              <div>
                                <p th:text="*{o.registration}" class="mb-0"></p>
                                <p th:text="*{o.icaoModelName}" class="mb-0 opacity-75"></p>
                              </div>
                            </div>
                          </div>
                          <div class="col-4 flex-fill">
                            <div class="d-flex gap-2 w-100 justify-content-between">
                              <div>
                                <p th:text="'Flights: ' + *{o.flights}" class="mb-0"></p>
                              </div>
                            </div>
                          </div>
                          <div class="btn-group" style="width: auto">
                            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">?</button>
                            <ul class="dropdown-menu dropdown-menu-dark mx-0 border-0 shadow">
                              <li>
                                <a class="dropdown-item d-flex gap-2 align-items-center" href="#">
                                  <svg class="bi" width="16" height="16">
                                    <use xlink:href="/images/svg/svgmaster.svg#gear-fill" />
                                  </svg>
                                  View/Edit
                                </a>
                              </li>
                              <li>
                                <hr class="dropdown-divider" />
                              </li>
                              <li>
                                <form th:method="POST" th:action="@{/profile/dashboard/aircraft/delete(id = *{o.getId()})}">
                                <a class="dropdown-item d-flex gap-2 align-items-center"
                                   onclick="this.parentNode.submit(); return false;" href="#">
                                  <svg class="bi" width="16" height="16">
                                    <use xlink:href="/images/svg/svgmaster.svg#trash" />
                                  </svg>
                                  Delete
                                </a>
                                </form>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- This is the view for all aerodromes -->
            <div class="col">
              <div class="card card-cover text-white bg-dark rounded-5 shadow-lg">
                <div class="d-flex align-items-center m-3">
                  <div class="list-group w-100">
                    <!-- remove this if there are aerodromes -->
                    <div class="list-group-item list-group-item-action d-flex justify-content-center" aria-current="true">
                      <h5>There seems to be nothing here</h5>
                    </div>

                    <!-- This is a Card for each aerodrome -->
                    <div class="list-group-item list-group-item-action" aria-current="true">
                      <div class="d-flex justify-content-between">
                        <div class="row w-100 d-flex align-items-center" style="margin: 0">
                          <div style="width: auto">
                            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.downloadclipart.net%2Flarge%2F8751-flag-of-eu-design.png&f=1&nofb=1" alt="twbs" width="45" height="45" class="rounded-circle flex-shrink-0" />
                          </div>
                          <div class="col-4 flex-fill">
                            <div class="d-flex gap-2 w-100 justify-content-between">
                              <div>
                                <p class="mb-0">Sofia (LBSF)</p>
                                <p class="mb-0 opacity-75">Times visited: 23</p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>


          </div>
        </div>
      </div>
</main>
<footer th:replace="fragments/common :: footer"></footer>
</body>

<script th:replace="fragments/map-view :: map-scripts"></script>
</html>
