<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>

  <th:block th:replace="fragments/common :: main-css"></th:block>
  <script crossorigin="anonymous"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

  <title>Feathers Logbook</title>
</head>

<body class="hero-container text-center">
<header th:replace="fragments/common :: header"></header>

<!--    <main class="hero-container">-->
<!--      <div class="row row-cols-1 row-cols-md-2 g-4 py-4 justify-content-center">-->
<!--        <div class="col">-->
<!--          <div class="position-sticky" style="top: 6rem;">-->
<!--            <div id="map" style="padding: 15px; margin: auto; max-width: 600px; height: 600px"></div>-->
<!--          </div>-->
<!--        </div>-->

<!--        <div class="d-flex flex-column">-->

<!--          <h4>Flight Data</h4>-->
<!--&lt;!&ndash;          <form th:object="${logViewModel}" th:action="@{/profile/log/update/{id}(id = *{getId()})}" th:method="POST"&ndash;&gt;-->
<!--          <form th:object="${logViewModel}" th:action="@{/profile/log/add{id}(id = *{getId()})}" th:method="POST"-->
<!--                class="needs-validation d-flex flex-column align-items-center">-->

<!--            <div class="input-group mt-3" style="max-width: 300px;">-->
<!--              <span class="input-group-text">Date of Flight</span>-->
<!--              <input th:field="*{dateOfLog}" class="form-control" placeholder="" required type="date" value=""/>-->
<!--            </div>-->
<!--            <div th:if="${#fields.hasErrors('dateOfLog')}" th:errorclass="error" th:errors="*{dateOfLog}" style="color: red" />-->


<!--            <div class="row">-->
<!--              <div class="input-group mt-3">-->
<!--                <input th:field="*{departureAerodrome}" class="form-control" type="text" placeholder="Departure Aerodrome" required/>-->

<!--                <span class="input-group-text"></span>-->
<!--                <input th:field="*{departureTime}" class="form-control" type="time" placeholder="Departure Time" required/>-->
<!--              </div>-->
<!--              <div th:if="${#fields.hasErrors('departureAerodrome')}" th:errorclass="error" th:errors="*{departureAerodrome}" style="color: red" />-->
<!--              <div th:if="${#fields.hasErrors('departureTime')}" th:errorclass="error" th:errors="*{departureTime}" style="color: red" />-->

<!--              <div class="input-group mt-3">-->
<!--                <input th:field="*{arrivalAerodrome}" class="form-control" type="text" placeholder="Arrival Aerodrome" required/>-->

<!--                <span class="input-group-text"></span>-->
<!--                <input th:field="*{arrivalTime}" class="form-control" type="time" placeholder="Arrival Time" required/>-->
<!--              </div>-->
<!--              <div th:if="${#fields.hasErrors('arrivalAerodrome')}" th:errorclass="error" th:errors="*{arrivalAerodrome}" style="color: red" />-->
<!--              <div th:if="${#fields.hasErrors('arrivalTime')}" th:errorclass="error" th:errors="*{arrivalTime}" style="color: red" />-->

<!--              <div class="input-group mt-3">-->
<!--                <span class="input-group-text" >Landings</span>-->
<!--                <input th:field="*{landings}" class="form-control" type="number" placeholder="1" style="max-width: 80px;"/>-->
<!--                &lt;!&ndash;<div class="input-group-text">-->
<!--                    <input th:field="*{nightLandings}" class="form-check-input" type="checkbox" th:value="0">-->
<!--                    <label class="form-check-label ms-2">Night</label>-->
<!--                </div>&ndash;&gt;-->
<!--              </div>-->
<!--              <div th:if="${#fields.hasErrors('landings')}" th:errorclass="error" th:errors="*{landings}" style="color: red" />-->

<!--              <div class="input-group mt-3">-->
<!--                <span class="input-group-text" >Aircraft</span>-->
<!--                <input th:field="*{aircraft}" class="form-control" type="text" placeholder="Registration" required style="max-width: 200px;"/>-->
<!--                <a th:href="@{/aircraft/add}" class="btn btn-warning" type="button">Add New</a>-->
<!--              </div>-->
<!--              <div th:if="${#fields.hasErrors('aircraft')}" th:errorclass="error" th:errors="*{aircraft}" style="color: red" />-->


<!--              <div class="input-group mt-3">-->
<!--                <span class="input-group-text" id="basic-addon1">Pilot In Command</span>-->
<!--                <input th:field="*{pilotInCommandName}" class="form-control" type="text" placeholder="Self" required/>-->
<!--              </div>-->
<!--              <div th:if="${#fields.hasErrors('pilotInCommandName')}" th:errorclass="error" th:errors="*{pilotInCommandName}" style="color: red" />-->

<!--              <div class="input-group mt-3">-->
<!--                <input accept=".gpx" class="form-control" type="file"/>-->
<!--                <label class="input-group-text">Upload .GPX File</label>-->
<!--              </div>-->

<!--              <div class="mt-3">-->
<!--                <label th:field="*{remarks}" class="form-label">Remarks</label>-->
<!--                <textarea class="form-control" type="text" placeholder="Nil" ></textarea>-->
<!--              </div>-->
<!--              <div th:if="${#fields.hasErrors('remarks')}" th:errorclass="error" th:errors="*{remarks}" style="color: red" />-->

<!--              <div class="d-flex justify-content-center mt-3">-->
<!--                <button class="col-md-4 btn btn-warning btn-lg" type="submit">Update Log</button>-->
<!--              </div>-->
<!--            </div>-->

<!--          </form>-->
<!--        </div>-->
<!--      </div>-->
<!--    </main>-->

    <script>
      var mymap = L.map("map").setView([51.505, -0.09], 13);

      L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw", {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' + 'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        id: "mapbox/streets-v11",
        tileSize: 512,
        zoomOffset: -1,
      }).addTo(mymap);
    </script>

<script>
  let path = "/api/param";

  $(function() {
    $("#aircraft").autocomplete({
      source: function(request, response) {
        $.getJSON(path, { reg: request.term }, response);
      },
      minLength: 2,
    });
  });

  $(function() {
    $("#departureAerodrome").autocomplete({
      source: function(request, response) {
        $.getJSON(path, { aero: request.term }, response);
      },
      minLength: 2,
    });
  });

  $(function() {
    $("#arrivalAerodrome").autocomplete({
      source: function(request, response) {
        $.getJSON(path, { aero: request.term }, response);
      },
      minLength: 2,
    });
  });
</script>
  </body>
</html>
